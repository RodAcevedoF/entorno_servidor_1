<% const displayInterests = (user.interests && user.interests.length > 0) ?
user.interests.map(i => i.replace('_', ' ')).join(', ') : 'None selected'; %>

<section class="profile-header" style="margin-bottom: 48px; text-align: center">
  <h1 style="font-size: 3rem">Welcome, <%= user.name %></h1>
  <p class="tagline">Manage your journey and preferences</p>
</section>

<div class="grid profile-grid">
  <div class="card profile-card">
    <div class="profile-avatar">
      <i class="fas fa-user-circle"></i>
    </div>
    <h3 style="text-align: center; margin-bottom: 24px">
      Personal Information
    </h3>
    <div class="profile-details">
      <div class="detail-row">
        <span class="label">Email</span>
        <span class="value"><%= user.email %></span>
      </div>
      <div class="detail-row">
        <span class="label">Age</span>
        <span class="value"><%= user.age %> years</span>
      </div>
      <div class="detail-row">
        <span class="label">City</span>
        <span class="value"><%= user.city || 'Not specified' %></span>
      </div>
      <div class="detail-row">
        <span class="label">Interests</span>
        <span class="value"><%= displayInterests %></span>
      </div>
      <div class="detail-row">
        <span class="label">Member Since</span>
        <span class="value"><%= formatDate(user.createdAt) %></span>
      </div>
    </div>
    <div style="margin-top: 32px">
      <a
        href="/profile/edit"
        class="btn btn-outline"
        style="
          width: 100%;
          border: 1px solid var(--primary);
          color: var(--text-main);
          text-align: center;
          display: block;
        "
        >Edit Profile</a
      >
    </div>
  </div>

  <div class="dashboard-actions">
    <a href="/bookings/history" class="card action-card">
      <div class="icon-box">
        <i class="fas fa-calendar-check"></i>
      </div>
      <h4>My Bookings</h4>
      <p style="font-size: 0.9rem; color: var(--text-muted)">
        View upcoming sessions and history
      </p>
    </a>

    <a href="/cart" class="card action-card">
      <div class="icon-box">
        <i class="fas fa-shopping-cart"></i>
      </div>
      <h4>My Cart</h4>
      <p style="font-size: 0.9rem; color: var(--text-muted)">
        Manage items in your cart
      </p>
    </a>

    <div
      class="card action-card logout-card"
      style="
        padding: 24px;
        border: none;
        background: transparent;
        box-shadow: none;
      "
    >
      <form action="/logout" method="POST">
        <button
          type="submit"
          class="btn button-danger"
          style="padding: 10px 24px; font-size: 0.9rem"
        >
          <i class="fas fa-sign-out-alt" style="margin-right: 8px"></i> Logout
        </button>
      </form>
    </div>
  </div>
</div>
