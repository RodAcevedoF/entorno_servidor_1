<h2>Edit Profile</h2>

<% if (typeof errors !== 'undefined' && errors.length > 0) { %>
<div class="errors">
	<ul>
		<% errors.forEach(function(err) { %>
		<li><%= err %></li>
		<% }); %>
	</ul>
</div>
<% } %>

<form action="/profile/edit" method="POST" class="form-registro">
	<div class="field">
		<label for="nombre">Name *</label>
		<input
			type="text"
			id="nombre"
			name="nombre"
			value="<%= user.name %>"
			required />
	</div>

	<div class="field">
		<label for="email">Email</label>
		<input
			type="email"
			id="email"
			value="<%= user.email %>"
			disabled />
		<small>Email cannot be changed</small>
	</div>

	<div class="field">
		<label for="edad">Age *</label>
		<input
			type="number"
			id="edad"
			name="edad"
			value="<%= user.age %>"
			min="1"
			required />
	</div>

	<div class="field">
		<label for="ciudad">City</label>
		<input
			type="text"
			id="ciudad"
			name="ciudad"
			value="<%= user.city || '' %>" />
	</div>

	<div class="field">
		<label>Interests</label>
		<div class="checkboxes">
			<label>
				<input type="checkbox" name="intereses" value="meditacion"
					<%= user.interests?.includes('meditacion') ? 'checked' : '' %> />
				Meditation
			</label>
			<label>
				<input type="checkbox" name="intereses" value="sanacion"
					<%= user.interests?.includes('sanacion') ? 'checked' : '' %> />
				Energy Healing
			</label>
			<label>
				<input type="checkbox" name="intereses" value="chakras"
					<%= user.interests?.includes('chakras') ? 'checked' : '' %> />
				Chakras
			</label>
			<label>
				<input type="checkbox" name="intereses" value="viaje_astral"
					<%= user.interests?.includes('viaje_astral') ? 'checked' : '' %> />
				Astral Journey
			</label>
			<label>
				<input type="checkbox" name="intereses" value="regresiones"
					<%= user.interests?.includes('regresiones') ? 'checked' : '' %> />
				Regression Therapy
			</label>
		</div>
	</div>

	<div class="form-actions">
		<button type="submit">Save Changes</button>
		<a href="/profile" class="button button-secondary">Cancel</a>
	</div>
</form>
