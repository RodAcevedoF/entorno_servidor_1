<h2>Spiritual Cart</h2>

<% if (cart.length === 0) { %>
<div class="empty-cart">
	<p>Your spiritual cart is empty.</p>
	<a href="/sessions" class="button">Explore Sessions</a>
</div>
<% } else { %>
<table class="cart-table">
	<thead>
		<tr>
			<th>Session</th>
			<th>Date</th>
			<th>Quantity</th>
			<th>Price</th>
			<th></th>
		</tr>
	</thead>
	<tbody>
		<% cart.forEach(function(item) { %>
		<tr>
			<td><%= item.session.title %></td>
			<td><%= formatDate(item.session.date) %></td>
			<td><%= item.quantity %></td>
			<td><%= item.session.price * item.quantity %>€</td>
			<td>
				<form action="/cart/delete" method="POST" style="margin:0">
					<input type="hidden" name="sessionId" value="<%= item.session.id %>">
					<button type="submit" class="button-small button-danger">Remove</button>
				</form>
			</td>
		</tr>
		<% }); %>
	</tbody>
	<tfoot>
		<tr>
			<td colspan="4"><strong>Total</strong></td>
			<td><strong><%= total %>€</strong></td>
		</tr>
	</tfoot>
</table>

<div class="cart-actions">
	<form action="/bookings/confirm" method="POST">
		<button type="submit" class="button button-success">Confirm Booking</button>
	</form>
		<form action="/cart/empty" method="POST">
			<button type="submit" class="button button-danger">Empty Cart</button>
		</form>
	<a href="/sessions" class="button">Continue Exploring</a>
</div>
<% } %>
